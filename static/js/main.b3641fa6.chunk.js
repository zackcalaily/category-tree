(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,n,t){},28:function(e,n){},78:function(e,n,t){e.exports=t(79)},79:function(e,n,t){"use strict";t.r(n);var r=t(61),o=t(62),a=t(74),i=t(63),s=t(75),c=t(27),d=t(64),l=t.n(d),u=t(0),p=t.n(u),f=t(65),h=t.n(f),g=t(29),m=t(66),v=t(73);t(173),t(174),t(175);function y(){var e=Object(c.a)(["\n    background: none;\n    border: 0;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    color: #3c80cf;\n    text-decoration: underline;\n\n    &:hover,\n    &:focus {\n        color: #2a3039;\n    }\n\n    svg {\n        margin-right: 4px;\n        fill: #3c80cf;\n    }\n\n    &:hover svg {\n        fill: #2a3039;\n    }\n"]);return y=function(){return e},e}function k(){var e=Object(c.a)(["\n    margin-top: 12px;    \n\n    > button {\n        margin-bottom: 12px;\n    }\n"]);return k=function(){return e},e}var b=g.a.div(k()),w=g.a.button(y()),C=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(a.a)(this,Object(i.a)(n).call(this,e))).onImportClick=function(){var e=t.props.sdk.field.locale;t.props.sdk.dialogs.selectSingleEntry({contentTypes:["procedure"],locale:e}).then(function(n){if(n.fields.hasOwnProperty("categories")){var r=n.fields.categories[e].map(function(e){return e.sys.id});t.setState({selectedIds:r},function(){t.setState({categoryTree:t.createCategoryTree(t.state.rootCategories)})}),t.props.sdk.field.setValue(r.map(function(e){return t.buildReference(e)})),t.props.sdk.notifier.success("Imported ".concat(r.length," categories"))}else t.props.sdk.notifier.error("Entry is not tagged with any categories!")})},t.onChange=function(e,n){var r=n.map(function(e){return e.value});t.props.sdk.field.setValue(r.map(function(e){return t.buildReference(e)}))},t.buildReference=function(e){return{sys:{type:"Link",linkType:"Entry",id:e}}},t.state={rootCategories:[],categoryTree:[],selectedIds:void 0!==e.sdk.field.getValue()?e.sdk.field.getValue().map(function(e){return e.sys.id}):[]},t}return Object(s.a)(n,e),Object(o.a)(n,[{key:"createCategoryTree",value:function(e){var n=this;return e.map(function(e){var t={label:e.fields.name,value:e.sys.id,expanded:!0,checked:n.state.selectedIds.includes(e.sys.id),disabled:!e.fields.isSelectable};return e.fields.hasOwnProperty("subcategories")&&(t.children=n.createCategoryTree(e.fields.subcategories)),t})}},{key:"componentDidMount",value:function(){var e=this;this.props.sdk.window.startAutoResizer(),Object(v.a)({space:this.props.sdk.ids.space,environment:this.props.sdk.ids.environment,accessToken:"L6UqbnhaDcZto530TFNvwjuRG9RU8cluBtx271bGvW0"}).getEntries({content_type:"category","fields.isRootCategory":!0,include:3,order:"fields.name"}).then(function(n){return e.setState({rootCategories:n.items,categoryTree:e.createCategoryTree(n.items)})})}},{key:"render",value:function(){return p.a.createElement(b,null,p.a.createElement(w,{onClick:this.onImportClick},p.a.createElement("svg",{height:"18",width:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),p.a.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})),"Import from another entry"),p.a.createElement(l.a,{data:this.state.categoryTree,mode:"hierarchical",keepTreeOnSearch:!0,keepChildrenOnSearch:!1,onChange:this.onChange}))}}]),n}(p.a.Component);console.clear(),Object(m.init)(function(e){h.a.render(p.a.createElement(C,{sdk:e}),document.getElementById("root"))})},84:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=84}},[[78,1,2]]]);
//# sourceMappingURL=main.b3641fa6.chunk.js.map